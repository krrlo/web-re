<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper SYSTEM "mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.reply.mapper.ReplyMapper">

	<!-- 보드에 등록된 댓글들 조회  -->
	<select id="replyList" resultType="co.yedam.reply.service.ReplyVO">     <!-- 함수이름, 리턴타입  인터페이스는 boardMapper / 얘가 구현객체임 -->
		select *from reply where board_no=#{boardNo}
	</select>
	
	
	 <!-- 댓글번호로 댓글조회   -->
	<select id="selectReply" resultType="co.yedam.reply.service.ReplyVO" parameterType ="int">
		select *from reply where reply_no=#{replyNo} 
	</select>
	
	<!-- 댓글 넣기 -->
	<insert id="insertReply" parameterType="co.yedam.reply.service.ReplyVO">
		
		<selectKey  keyProperty="replyNo" resultType="int" order="BEFORE">
			select seq_reply.nextval from dual
		</selectKey>
		
		insert into reply(reply_no, board_no, reply, replyer, reply_date)
		values(seq_reply.nextval, #{boardNo}, #{reply}, #{replyer}, #{replyDate})
	</insert>
	
	<!-- 댓글 수정 -->
	<update id ="updateReply" parameterType ="co.yedam.reply.service.ReplyVO">
		update reply set reply = #{reply}  
			 where reply_no =#{replyNo} 
	</update>
	
	<!-- 댓글 삭제 -->
	<delete id ="deleteReply" parameterType ="int">
		delete from reply where reply_no = #{replyNo} 
	</delete>

	

</mapper>